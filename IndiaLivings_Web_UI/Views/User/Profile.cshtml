@model ProfileViewModel
@{
    ViewBag.Title = "Profile";
    <link rel="stylesheet" href="~/fonts/flaticon/flaticon.css" />
    <link rel="stylesheet" href="~/fonts/font-awesome/fontawesome.css" />
    <link rel="stylesheet" href="~/css/custom/profile.css" />
    var membership = Model.Membership[0];
    var address = Model.Users[0];
}

<section class="single-banner dashboard-banner">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="single-content">
                    <h2>Profile</h2>
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a asp-controller="Dashboard" asp-action="Dashboard">Home</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Profile</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
</section>
<section class="dash-header-part">
    <div class="container">
        <div class="dash-header-card">
            <partial name="~/Views/Shared/_ProfileCard.cshtml" />
            <div class="row">
                <div class="col-lg-12">

                    <div class="dash-menu-list">
                        <ul>
                            <li><a asp-controller="User" asp-action="Dashboard">Dashboard</a></li>
                            <li><a asp-controller="User" asp-action="Profile" class="active">Profile</a></li>
                            <li><a asp-controller="User" asp-action="PostAd">Ad Post</a></li>
                            <li><a asp-controller="User" asp-action="MyAds">My Ads</a></li>
                            <li><a asp-controller="User" asp-action="Settings">Settings</a></li>
                            <li><a asp-controller="User" asp-action="Bookmark">Bookmarks</a></li>
                            <li><a asp-controller="User" asp-action="Message">Message</a></li>
                            <li><a asp-controller="User" asp-action="Notification">Notification</a></li>
                            <li><a asp-controller="Dashboard" asp-action="Logout">Logout</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
    <!--=====================================
                PROFILE PART START
    =======================================-->
    <section class="profile-part">
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                    <div class="account-card">
                        <div class="account-title">
                            <h3>Membership</h3>
                            <a asp-action="settings" asp-controller="User">Edit</a>
                        </div>
                        <ul class="account-card-list">
                            <li><h5>Status</h5><p>@(membership.IsActive ? "Active" : "InActive")</p></li>
                            <li><h5>Joined</h5><p>@membership.CreatedDate</p></li>
                            <li><h5>Plan</h5><p>@membership.strMembershipName</p></li>
                            <li><h5>Ads Limit</h5><p>@membership.intMembershipAdListing</p></li>
                        </ul>
                    </div>
                    <div class="account-card">
                        <div class="account-title">
                            <h3>Billing Address</h3>
                        <a onclick="loadAddressModal('@address.userAddressInfo[0].UserBillingFullAddress', '@address.userAddressInfo[0].UserBillingPinCode', '@address.userAddressInfo[0].UserBillingState', '@address.userAddressInfo[0].UserBillingCity', '@address.userAddressInfo[0].UserBillingCountry', 'Billing')">Edit</a>
                        </div>
                        <ul class="account-card-list">
                            <li><h5>Address:</h5><p>@address.userAddressInfo[0].UserBillingFullAddress</p></li>
                            <li><h5>Pin Code:</h5><p>@address.userAddressInfo[0].UserBillingPinCode</p></li>
                            <li><h5>State:</h5><p>@address.userAddressInfo[0].UserBillingState</p></li>
                            <li><h5>City:</h5><p>@address.userAddressInfo[0].UserBillingCity</p></li>
                            <li><h5>Country:</h5><p>@address.userAddressInfo[0].UserBillingCountry</p></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="account-card">
                        <div class="account-title">
                            <h3>Contact Info</h3>
                            <a asp-action="settings" asp-controller="User">Edit</a>
                        </div>
                        <ul class="account-card-list">
                            <li><h5>Website:</h5><p>@address.userWebsite</p></li>
                            <li><h5>Email:</h5><p>@address.userEmail</p></li>
                            <li><h5>Phone:</h5><p>@address.userMobile</p></li>
                            @* <li><h5>Skype:</h5><p></p></li> *@
                        </ul>
                    </div>
                    <div class="account-card">
                        <div class="account-title">
                            <h3>Shipping Address</h3>
                            <a onclick="loadAddressModal('@address.userAddressInfo[0].UserShippingFullAddress', '@address.userAddressInfo[0].UserShippingPinCode', '@address.userAddressInfo[0].UserShippingState', '@address.userAddressInfo[0].UserShippingCity', '@address.userAddressInfo[0].UserShippingCountry', 'shipping')">Edit</a>
                        </div>
                        <ul class="account-card-list">
                            <li><h5>Address:</h5><p>@address.userAddressInfo[0].UserShippingFullAddress</p></li>
                            <li><h5>Post Code:</h5><p>@address.userAddressInfo[0].UserShippingPinCode</p></li>
                            <li><h5>State:</h5><p>@address.userAddressInfo[0].UserShippingState</p></li>
                            <li><h5>City:</h5><p>@address.userAddressInfo[0].UserShippingCity</p></li>
                            <li><h5>Country:</h5><p>@address.userAddressInfo[0].UserShippingCountry</p></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--=====================================
                PROFILE PART END
    =======================================-->
    
    <!--=====================================
              CURRENCY MODAL PART START
    =======================================-->
    <div class="modal fade" id="currency">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h4>Choose a Currency</h4>
                    <button class="fas fa-times" data-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <button class="modal-link active">United States Doller (USD) - $</button>
                    <button class="modal-link">Euro (EUR) - €</button>
                    <button class="modal-link">British Pound (GBP) - £</button>
                    <button class="modal-link">Australian Dollar (AUD) - A$</button>
                    <button class="modal-link">Canadian Dollar (CAD) - C$</button>
                </div>
            </div>
        </div>
    </div>
    <!--=====================================
              CURRENCY MODAL PART END
    =======================================-->
    <!--=====================================
              LANGUAGE MODAL PART END
    =======================================-->
    <div class="modal fade" id="language">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h4>Choose a Language</h4>
                    <button class="fas fa-times" data-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <button class="modal-link active">English</button>
                    <button class="modal-link">bangali</button>
                    <button class="modal-link">arabic</button>
                    <button class="modal-link">germany</button>
                    <button class="modal-link">spanish</button>
                </div>
            </div>
        </div>
    </div>
    <!--=====================================
               LANGUAGE MODAL PART END
    =======================================-->
<!-- Modal placeholder -->
<div id="modalPlaceholder"></div>
<div id="spinner" class="d-none">
    <img style="height: 100px" src="~/images/spinner.gif" />
</div>
<div id="toast" class="d-none"></div>
<!--=====================================
            JS LINK PART START
=======================================-->
<!-- VENDOR -->
<script src="~/js/vendor/jquery-1.12.4.min.js"></script>
<script src="~/js/vendor/popper.min.js"></script>
<script src="~/js/vendor/bootstrap.min.js"></script>

<!-- CUSTOM -->
<script src="~/js/custom/main.js"></script>
<!--=====================================
            JS LINK PART END
=======================================-->


<script>
    function loadAddressModal(address, pincode, state, city, country, type) {
        
        $.ajax({
            url: '/User/UserAddressInfo', // Controller action name
            type: 'GET',
            data: { houseNo: address, pincode: pincode, state: state, city: city, country: country, type: type},
            success: function (html) {
                $('#modalPlaceholder').html(html);
                var modal = new bootstrap.Modal(document.getElementById('editBillingModal'));
                modal.show();
            },
            error: function () {
                alert('Failed to load modal.');
            }
        });
    }
</script>




